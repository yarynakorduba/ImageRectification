<!doctype html>
<html>
    <head>
        <title>Linear algebra project</title>
        <link rel="stylesheet" href="static/style.css" media="screen" title="no title" charset="utf-8">
        <meta charset="utf-8">
        <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
        <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
             tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
         });
         </script>
        <script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    </head>
    </head>
    <body>
        <div id="container">
            <header class="title">
                <h1>Perspective rectification</h1>
            </header>
            <div id="content">
                <form action='/' method="POST" enctype="multipart/form-data">
                  <label for="image">Upload your image</label>
                  <input id="upload" type="file" onchange="readURL(this);" name="pic" accept="image/*" value="choose your file">
                  <img id="pointer_div" onclick="point_it(event)" src="#" alt="your image" />
                  <div id="wallstick">Linear algebra is the queen of science, accept it</div>
                    <label for="list"></label>
                    <input type="text" name="general" size="4"/>
                  <input id="submit_list" type="submit" value="submit"/>
                </form>
             <div id="new">
                <p id="newHeader">Displayed images</p>
                <form id="pointform" name="pointform" enctype="multipart/form-data">

                <div>X:</div><input type="text" name="form_x" size="4"/><div>Y:</div><input type="text" name="form_y" size="4" /></form>
                {% if new_im is defined %}
                <img src={{new_im}} style="margin-left: 5%; margin-top: 2%;"/>
                {% endif %}

                <!--img id="blah" src="#" alt="your image"-->
                <p id="newData">...something...</p>

            <div id="explanation"><p style="font-size: 27px;"><b>What do we do?</b></p>
              <p>The goal for this project is to remove perspective from an image of a flat surface.</p>
            <p>We will synthesize a new image. This new image has never been captured by a camera.</p>
          <p>The technique for carrying out this transformation makes use of the idea of a coordinate system.
          Actually, it requires us to consider two coordinate systems and to transform between a representation within one system and a representation within the other.</p>
        <p>Forming the perspective-free image is easy once we have a function that maps pixel coordinates
to the coordinates of the corresponding point in the plane of the whiteboard.</p></div>
        </div></div></div>
        <div id="right-side">
        <div id="right-quote"><p></p><p></p></div>
        <div id="right-sidebar" style=" margin-right: 0px; width: 250px;  border-left: 2px dashed darkblue; height:100%; width: 40%; z-index:1; text-align: center; font-size: 20px; color: #5d4077; background-color: beige;">
        <p><b>Our team</b></p>
        <p><a href="#" style="color: #5d4077">Vladyslav Velychko</a></p>
        <p><a href="#" style="color: #5d4077">Anton Tarasov</a></p>
        <p><a href="#" style="color: #5d4077">Yaaryna Korduba</a></p>
        <p><a href="#" style="color: #5d4077">Myroslav Syvokhip</a></p>
        <p><a href="#" style="color: #5d4077">Yuliya Antonyshyn</a></p>
          <div><a href="http://cs.ucu.edu.ua/en/"><img src="https://yeed.me/system/clubs/logos/000/163/626/medium/1459200_1438296833130750_8546142634332457569_n.jpg?1464188241" alt="CS@UCU_logotype" style="position: relative; width: 50%; height: 50%; "/></a></div></div>
        </div>

        <script>function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#pointer_div')
                    .attr('src', e.target.result);

            };
            $('#wallstick').fadeTo("fast", 0);
            reader.readAsDataURL(input.files[0]);
        }
    }</script>

    <script language="JavaScript">
function point_it(event){
	pos_x = event.offsetX?(event.offsetX):event.pageX-document.getElementById("pointer_div").offsetLeft;
	pos_y = event.offsetY?(event.offsetY):event.pageY-document.getElementById("pointer_div").offsetTop;
	document.getElementById("pointer_div").style.left = (pos_x) ;
	document.getElementById("pointer_div").style.top = (pos_y) ;
	document.getElementById("pointer_div").style.visibility = "visible" ;
	document.pointform.form_x.value = pos_x;
	document.pointform.form_y.value = pos_y;
  //document.pointform.general.value = [pos_x, pos_y];
}
</script>

    </body>
</html>
